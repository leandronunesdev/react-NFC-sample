(this["webpackJsonpreact-nfc"]=this["webpackJsonpreact-nfc"]||[]).push([[0],{14:function(e,n,t){},15:function(e,n,t){},17:function(e,n,t){},19:function(e,n,t){},20:function(e,n,t){"use strict";t.r(n);var c=t(1),a=t.n(c),s=t(8),r=t.n(s),i=(t(14),t(4)),o=t(2),l=t.p+"static/media/nfc.1e1c9c72.svg",u=(t(15),t(9)),j=t(3),d=t.n(j),b=t(5),x=(t(17),t.p+"static/media/spinner.e8697d57.gif"),f=Object(c.createContext)({scan:null,write:null,setActions:function(){}}),O=t(0),h=function(){var e=Object(c.useContext)(f),n=e.actions,t=e.setActions;return Object(O.jsxs)("div",{className:"scanner",children:[Object(O.jsx)("p",{className:"scanner-exit",onClick:function(){return t(Object(i.a)(Object(i.a)({},n),{},{scan:null}))},children:"X"}),Object(O.jsxs)("div",{className:"scanner-container",children:[Object(O.jsx)("img",{src:x,alt:"spinning log",className:"scanner-image"}),Object(O.jsx)("p",{className:"scanner-text",children:"Scanning..."})]})]})},p=function(){var e=Object(c.useState)(""),n=Object(o.a)(e,2),t=n[0],a=n[1],s=Object(c.useState)(""),r=Object(o.a)(s,2),i=r[0],l=r[1],j=Object(c.useContext)(f),x=j.actions,p=j.setActions,v=Object(c.useCallback)(Object(b.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("NDEFReader"in window)){e.next=13;break}return e.prev=1,n=new window.NDEFReader,e.next=5,n.scan();case 5:console.log("Scan started successfully."),n.onreadingerror=function(){console.log("Cannot read data from the NFC tag. Try another one?")},n.onreading=function(e){console.log("NDEF message read."),g(e),console.log("event",e),p({scan:"scanned",write:null})},e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("Error! Scan failed to start: ".concat(e.t0,"."));case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),[p]),g=function(e){var n=e.message,t=e.serialNumber;l(t);var c,s=Object(u.a)(n.records);try{for(s.s();!(c=s.n()).done;){var r=c.value;switch(r.recordType){case"text":var i=new TextDecoder(r.encoding);a(i.decode(r.data))}}}catch(o){s.e(o)}finally{s.f()}};return Object(c.useEffect)((function(){v()}),[v]),Object(O.jsx)(O.Fragment,{children:"scanned"===x.scan?Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{children:["Serial Number: ",i]}),Object(O.jsxs)("p",{children:["Message: ",t]})]}):Object(O.jsx)(h,{status:x.scan})})},v=(t(19),function(){return Object(O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF",children:[Object(O.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(O.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm2 16H5V5h11.17L19 7.83V19zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zM6 6h9v4H6z"})]})}),g=function(e){var n=e.writeFn,t=a.a.useState(""),c=Object(o.a)(t,2),s=c[0],r=c[1];return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("form",{onSubmit:function(e){e.preventDefault(),n(s),r("")},children:Object(O.jsxs)("div",{className:"writer-container",children:[Object(O.jsx)("input",{type:"text",placeholder:"Enter Message...",value:s,onChange:function(e){return r(e.target.value)}}),Object(O.jsxs)("button",{className:"btn",type:"submit",children:[Object(O.jsx)(v,{}),"Save"]})]})})})},m=function(){var e=function(){var e=Object(b.a)(d.a.mark((function e(n){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new window.NDEFReader,e.next=4,t.scan();case 4:return e.next=6,t.write({records:[{recordType:"text",data:n}]});case 6:alert("Value Saved!"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}();return Object(O.jsx)(g,{writeFn:e})};var w=function(){var e=Object(c.useState)(null),n=Object(o.a)(e,2),t=n[0],a=n[1],s=t||{},r=s.scan,u=s.write,j={actions:t,setActions:a},d=function(e){a(Object(i.a)({},e))};return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("img",{src:l,className:"App-logo",alt:"logo"}),Object(O.jsx)("h1",{children:"NFC Tool"}),Object(O.jsxs)("div",{className:"App-container",children:[Object(O.jsx)("button",{onClick:function(){return d({scan:"scanning",write:null})},className:"btn",children:"Scan"}),Object(O.jsx)("button",{onClick:function(){return d({scan:null,write:"writing"})},className:"btn",children:"Write"})]}),Object(O.jsxs)(f.Provider,{value:j,children:[r&&Object(O.jsx)(p,{}),u&&Object(O.jsx)(m,{})]})]})},F=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,21)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,s=n.getLCP,r=n.getTTFB;t(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(w,{})}),document.getElementById("root")),F()}},[[20,1,2]]]);
//# sourceMappingURL=main.001906d8.chunk.js.map